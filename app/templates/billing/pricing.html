{% extends "base.html" %}
{% block title %}Pricing - CampusConnect{% endblock %}
{% block content %}
<h2 class="mb-4 text-center">Choose Your Plan</h2>

<div class="row">
  {% for key, plan in plans.items() %}
    <div class="col-md-4 mb-3">
      <div class="card h-100 {% if current_plan == key %}border-success{% endif %}">
        <div class="card-body text-center">
          <h4>{{ plan.name }}</h4>
          {% if plan.price_inr == 0 %}
            <h2>Free</h2>
          {% else %}
            <h2>â‚¹{{ plan.price_inr }} <small class="text-muted fs-6">/ month</small></h2>
          {% endif %}

          <ul class="list-unstyled mt-3 mb-4 text-start">
            <li>
              Swipes per day:
              {% if plan.swipes_per_day %}
                {{ plan.swipes_per_day }}
              {% else %}
                Unlimited
              {% endif %}
            </li>
            <li>See who liked you: {{ "Yes" if plan.see_likes else "No" }}</li>
            <li>Unlimited swipes: {{ "Yes" if plan.unlimited_swipes else "No" }}</li>
          </ul>

          {% if current_plan == key %}
            <span class="badge bg-success">Current plan</span>
          {% elif key == 'free' %}
            <button class="btn btn-outline-secondary" disabled>Default</button>
          {% else %}
            <a href="{{ url_for('billing.subscribe', plan_key=key) }}"
               class="btn btn-primary">
              Choose {{ plan.name }}
            </a>
          {% endif %}
        </div>
      </div>
    </div>
  {% endfor %}
</div>
{% endblock %}
