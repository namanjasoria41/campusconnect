{% extends "base.html" %}
{% block title %}Chat - CampusConnect{% endblock %}
{% block content %}
<h2>Chat with {{ other.name }}</h2>

<div class="border rounded p-3 mb-3" style="max-height: 400px; overflow-y: auto;">
  {% for msg in messages %}
    <div class="mb-2">
      <strong>{{ "You" if msg.sender_id == current_user.id else other.name }}:</strong>
      {{ msg.text }}
      <small class="text-muted">
        ({{ msg.created_at.strftime('%H:%M') }})
      </small>
    </div>
  {% else %}
    <p>No messages yet.</p>
  {% endfor %}
</div>

<form method="post">
  <div class="mb-3">
    <textarea class="form-control" name="text" rows="2" placeholder="Type your message..."></textarea>
  </div>
  <button class="btn btn-primary">Send</button>
</form>
{% endblock %}
