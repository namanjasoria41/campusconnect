{% extends "base.html" %}
{% block title %}My Profile - CampusConnect{% endblock %}
{% block content %}
<h2>My Profile</h2>

<div class="row">
  <div class="col-md-4">
    {% if user.photo %}
      <img src="{{ url_for('static', filename='uploads/' ~ user.photo) }}"
           class="img-fluid rounded mb-3" alt="Profile photo">
    {% else %}
      <div class="border rounded p-4 text-center mb-3">No photo</div>
    {% endif %}
  </div>
  <div class="col-md-8">
    <form method="post" enctype="multipart/form-data">
      <div class="mb-3">
        <label class="form-label">Name</label>
        <input class="form-control" value="{{ user.name }}" disabled>
      </div>
      <div class="mb-3">
        <label class="form-label">Year</label>
        <input class="form-control" name="year" value="{{ user.year or '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Branch</label>
        <input class="form-control" name="branch" value="{{ user.branch or '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Bio</label>
        <textarea class="form-control" name="bio" rows="3">{{ user.bio or '' }}</textarea>
      </div>
      <div class="mb-3">
        <label class="form-label">Interests (comma separated)</label>
        <input class="form-control" name="interests" value="{{ user.interests or '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Looking for</label>
        <input class="form-control" name="looking_for"
               placeholder="events,dating,friends"
               value="{{ user.looking_for or '' }}">
      </div>
      <div class="mb-3">
        <label class="form-label">Profile photo</label>
        <input class="form-control" type="file" name="photo" accept="image/*">
      </div>
      <button class="btn btn-primary">Save</button>
    </form>
  </div>
</div>
{% endblock %}
