{% extends "base.html" %}
{% block title %}Swipe - CampusConnect{% endblock %}
{% block content %}

<div class="row justify-content-center">
  <div class="col-lg-6">

    <div class="glass-card mb-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4 class="mb-0 feed-heading">Swipe</h4>
        <span class="text-muted tiny">Find new connections on campus</span>
      </div>

      {% if candidate %}
        <div class="swipe-card text-center">

          <div class="mb-3">
            {% if candidate.photo %}
              <img
                src="{{ url_for('static', filename='uploads/' ~ candidate.photo) }}"
                class="img-fluid rounded swipe-photo"
                alt="{{ candidate.name }}"
                onerror="this.onerror=null;this.src='{{ url_for('static', filename='img/default-avatar.png') }}';"
              >
            {% else %}
              <div class="swipe-photo-placeholder rounded">
                {{ candidate.name[0]|upper }}
              </div>
            {% endif %}
          </div>

          <h4 class="mb-1">{{ candidate.name }}</h4>
          <div class="text-muted small mb-2">
            {{ candidate.year }} â€¢ {{ candidate.branch }}
          </div>

          {% if candidate.bio %}
            <p class="mb-3 small">{{ candidate.bio }}</p>
          {% endif %}

          <div class="d-flex justify-content-center gap-3 mt-3 swipe-actions">
            <a href="{{ url_for('swipe.swipe_view') }}"
               class="btn btn-outline-light btn-lg rounded-circle swipe-btn skip"
               aria-label="Skip">
              <i class="bi bi-x-lg"></i>
            </a>

            <a href="{{ url_for('swipe.like_user', user_id=candidate.id) }}"
               class="btn btn-primary btn-lg rounded-circle swipe-btn like"
               aria-label="Like">
              <i class="bi bi-heart-fill"></i>
            </a>
          </div>

        </div>
      {% else %}
        <p class="text-muted mb-1 mt-2 text-center">No more people to show right now.</p>
        <p class="text-muted tiny text-center">Check back later as more students join ðŸš€</p>
      {% endif %}
    </div>

  </div>
</div>

{% endblock %}
